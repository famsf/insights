# KalaStatic
# This file configures how KalaStatic operates.

# The source directory.
base: "./"

# Where to build kalastatic out to, relative to base.
destination: "build"

# What BrowserSync will consider the start page.
#bsIndex: kalastatic/browsersync-redirect.html

# What BrowserSync will consider the web root.
bsWebroot: build

# Allows changing some of the plugin options.
pluginOpts:
  # The layouts will live in the templates directory.
  metalsmith-jstransformer:
    pattern: "!components/**"
    layoutPattern: "templates/**"

    # Options that are applied to just specific engines.
    engineOptions:
      # SASS settings.
      scss:
        outputStyle: nested
        sourceMap: true
        sourceComments: false
        includePaths:
          - node_modules/foundation-sites/scss
          - node_modules/motion-ui/src
          - src/styles
          - src/components
      twig:
        namespaces:
          kstat: src
          atoms: src/components/atoms
          molecules: src/components/molecules
          organisms: src/components/organisms
          ecosystems: src/components/ecosystems
          environments: src/components/environments
          layouts: src/components/layouts
          images: src/images
          assets: src/assets
          templates: src/templates/
        filters:
          clean_id: twig-drupal-filters/filters/clean_id
          bustcache: kalastatic-twig-filters/lib/filters/bustcache

# Settings for the Styleguide
kss:
  builder: "node_modules/kstat-kss-builder"
  js:
    - /js/jquery/jquery.js
    - /js/foundation/foundation.js
    - ../js/scripts.js
    - https://use.fontawesome.com/releases/v5.0.13/js/all.js
  css:
    - ../styles/main.css
    - ../styles/styleguide.scss
    - https://use.typekit.net/bmv1rht.css
  source:
    - src/
